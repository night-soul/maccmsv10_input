# maccmsv10_input
可以按照一定格式的入库配，用的是苹果cmsv10后台

## 使用的是：
python 3.7.9 64-bit编写
Microsoft Edge 版本 123.0.2420.65 (正式版本) (64 位)驱动浏览器
ffmpeg最新版本
请将这些前置全部加入环境变量，即可方便使用这个脚本

## 脚本中需要更改的内容：
wd.get("http://127.0.0.1:55225/MDadmin.php/admin/index/login.html")
这一行的网址需要写上你cms后台的登录网址
wd.find_element(By.CSS_SELECTOR, 'body > div.login-box > form > div:nth-child(2) > div > input').send_keys('super')
这一行的super需要修改成你后台的用户名
wd.find_element(By.CSS_SELECTOR, 'body > div.login-box > form > div:nth-child(3) > div > input').send_keys('656412388255817')
这一行的super需要修改成你后台的密码，后面有输入验证码的脚本，需要的话去掉注释就可以了
后面默认处理的是mp4视频，需要其他的自行更改后缀名即可

## 本脚本的生命周期介绍：

### 初始化和登录苹果CMS v10后台：
首先，脚本通过Selenium启动一个Edge浏览器实例，并导航到苹果CMS v10的登录页面。
接着，它使用CSS选择器定位账号和密码的输入框，填入预设的用户名和密码。
如果需要，还可以通过取消注释来启用验证码功能。这需要手动输入验证码，因为自动识别验证码通常违反了服务条款且技术上更复杂。
最后，脚本模拟点击登录按钮完成登录过程。
### 处理视频文件：
脚本使用Tkinter的filedialog打开一个文件夹选择对话框，让用户选择包含视频文件的目标文件夹。
对目标文件夹中的每个视频文件，脚本执行一系列操作，包括重命名（去除文件名中的空格）、创建新的子文件夹并移动视频文件、使用ffmpeg获取视频长度和生成视频预览图。
然后，脚本为每个视频构建特定的URL路径（用于后续在CMS中使用）。
### 在CMS中添加视频：
脚本通过Selenium模拟用户操作，导航到CMS的视频添加页面。
在这个页面上，脚本填写视频的相关信息，包括分类、标签（tag）、播放器分类、视频名称、时长、图片链接和视频链接。
完成信息填写后，脚本点击保存按钮，将视频信息保存到CMS系统中。
在处理完一个视频后，脚本清除用于存储视频信息的变量，以便处理下一个视频。
### 循环处理：
此脚本设计为处理一个目标文件夹中的所有视频文件。对每个文件，它都会重复上述“处理视频文件”和“在CMS中添加视频”的步骤。
通过对每个视频文件执行这一系列操作，脚本自动化了视频上传和信息录入的过程，大大减少了手动操作的需要。
### 结束：
所有视频处理完毕后，脚本的执行结束。用户可以关闭浏览器窗口或让脚本执行其他任务，例如关闭WebDriver实例。
